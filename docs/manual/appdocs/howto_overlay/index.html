
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The next-generation terminal-based management solution for QEMU/KVM virtualization.">
      
      
        <meta name="author" content="aginies">
      
      
        <link rel="canonical" href="https://aginies.github.io/virtui-manager/appdocs/howto_overlay/">
      
      
        <link rel="prev" href="../howto_network/">
      
      
        <link rel="next" href="../howto_ssh/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>State Management (Snapshots, Overlays, Hibernate) - VirtUI Manager Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="light-green" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#state-management-snapshots-overlays-hibernate" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="VirtUI Manager Documentation" class="md-header__button md-logo" aria-label="VirtUI Manager Documentation" data-md-component="logo">
      
  <img src="../../images/virtui-manager_logo_notext_inverted.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VirtUI Manager Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              State Management (Snapshots, Overlays, Hibernate)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/aginies/virtui-manager" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aginies/virtui-manager
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../introduction/" class="md-tabs__link">
          
  
  
  Manual

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../howto_disk/" class="md-tabs__link">
          
  
  
  How-To Guides

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="VirtUI Manager Documentation" class="md-nav__button md-logo" aria-label="VirtUI Manager Documentation" data-md-component="logo">
      
  <img src="../../images/virtui-manager_logo_notext_inverted.png" alt="logo">

    </a>
    VirtUI Manager Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aginies/virtui-manager" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aginies/virtui-manager
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Manual
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Manual
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VirtUI Manager Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main_window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Management Main Window
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../host_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Host Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app_configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VirtUI Manager Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vm_configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Machine Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vm_actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control Virtual Machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Selection & Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bulk_ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bulk Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Machine Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web_console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Web Console (VM)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Machine Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../remote_viewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtui Remote Viewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VirtUI Manager CMD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging_and_statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging and Statistics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    How-To Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-To Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../howto_disk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing VM Disks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../howto_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Understanding Network Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    State Management (Snapshots, Overlays, Hibernate)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    State Management (Snapshots, Overlays, Hibernate)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-snapshots-internal" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Snapshots (Internal)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-disk-overlays-external" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Disk Overlays (External)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-hibernate-vm" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Hibernate VM
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-snapshot-vs-overlay-vs-state-management-hibernate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparison: Snapshot vs. Overlay vs. State management (Hibernate)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-overlays-work-technical" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Overlays Work (Technical)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../howto_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using an SSH Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../howto_virtiofs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using VirtIO-FS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-snapshots-internal" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Snapshots (Internal)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-disk-overlays-external" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Disk Overlays (External)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-hibernate-vm" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Hibernate VM
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-snapshot-vs-overlay-vs-state-management-hibernate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparison: Snapshot vs. Overlay vs. State management (Hibernate)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-overlays-work-technical" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Overlays Work (Technical)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="state-management-snapshots-overlays-hibernate">State Management (Snapshots, Overlays, Hibernate)<a class="headerlink" href="#state-management-snapshots-overlays-hibernate" title="Permanent link">&para;</a></h1>
<p>Virtual machines in this manager support several ways to preserve states and manage changes: <strong>Snapshots</strong>, <strong>Disk Overlays</strong>, and <strong>Hibernation</strong>. While they share similar goals, they work differently and are suited for different use cases.</p>
<hr />
<h3 id="1-snapshots-internal">1. Snapshots (Internal)<a class="headerlink" href="#1-snapshots-internal" title="Permanent link">&para;</a></h3>
<p>Snapshots are managed directly by libvirt and are typically stored <strong>inside</strong> the disk image (if using QCOW2 format).</p>
<ul>
<li><strong>How they work:</strong> When you take a snapshot, libvirt records the current state of the VM's disks and, if the VM is running, its memory (RAM). You can have many snapshots for a single VM, creating a timeline you can jump back and forth in.</li>
<li><strong>Operations:</strong><ul>
<li><strong>Take Snapshot:</strong> Creates a new restore point.</li>
<li><strong>Restore Snapshot:</strong> Reverts the VM to a previous state.</li>
<li><strong>Delete Snapshot:</strong> Removes the restore point from the timeline.</li>
</ul>
</li>
<li><strong>Best for:</strong> Quick restore points before risky operations, and preserving the full "live" state of a running VM.</li>
</ul>
<h3 id="2-disk-overlays-external">2. Disk Overlays (External)<a class="headerlink" href="#2-disk-overlays-external" title="Permanent link">&para;</a></h3>
<p>Overlays are <strong>new files</strong> created on top of a base disk image. This is also known as "External Snapshots" or "Backing Files".</p>
<ul>
<li><strong>Key Concepts:</strong><ul>
<li><strong>Base Image (Backing File):</strong> The original disk image that becomes read-only.</li>
<li><strong>Overlay Image:</strong> A new QCOW2 file that records only the changes made <em>after</em> its creation.</li>
<li><strong>Backing Chain:</strong> The relationship between layers (e.g., Base -&gt; Overlay 1 -&gt; Overlay 2).</li>
</ul>
</li>
<li><strong>Operations:</strong><ul>
<li><strong>New Overlay:</strong> Freezes the current disk and starts a new layer.</li>
<li><strong>Discard Overlay (Revert):</strong> Deletes the overlay file and reverts to the base image.</li>
<li><strong>Commit Disk (Merge):</strong> Merges changes from the overlay into the base image, making them permanent.</li>
</ul>
</li>
<li><strong>Best for:</strong> Maintaining "Golden Images", branching multiple VMs from a single base, and isolating large changes in separate files.</li>
</ul>
<h3 id="3-hibernate-vm">3. Hibernate VM<a class="headerlink" href="#3-hibernate-vm" title="Permanent link">&para;</a></h3>
<p>Saving a VM (also known as "Managed Save") stops the VM and writes its entire memory state to a file on disk.</p>
<ul>
<li><strong>How it works:</strong> It acts like hibernation on a physical computer. The VM is powered off, freeing up CPU and RAM resources on the host, but its running state is preserved on disk.</li>
<li><strong>Operations:</strong><ul>
<li><strong>Hibernate VM:</strong> Hibernates the VM.</li>
<li><strong>Start:</strong> Resumes the VM exactly from where it left off.</li>
</ul>
</li>
<li><strong>Best for:</strong> Freeing up host resources without shutting down the guest OS, or persisting the state across host reboots.</li>
</ul>
<hr />
<h3 id="comparison-snapshot-vs-overlay-vs-state-management-hibernate">Comparison: Snapshot vs. Overlay vs. State management (Hibernate)<a class="headerlink" href="#comparison-snapshot-vs-overlay-vs-state-management-hibernate" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;">Snapshots (Internal)</th>
<th style="text-align: left;">Disk Overlays (External)</th>
<th style="text-align: left;">Hibernate VM</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Storage</strong></td>
<td style="text-align: left;">Inside the existing disk file</td>
<td style="text-align: left;">In a new, separate file</td>
<td style="text-align: left;">Managed state file on host</td>
</tr>
<tr>
<td style="text-align: left;"><strong>VM State</strong></td>
<td style="text-align: left;">Can include RAM (Live state)</td>
<td style="text-align: left;">Disk only (requires VM stop)</td>
<td style="text-align: left;">RAM only (persisted to disk)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Management</strong></td>
<td style="text-align: left;">Timeline (multiple points)</td>
<td style="text-align: left;">Layered (Base + Changes)</td>
<td style="text-align: left;">Single state (Suspend/Resume)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Primary Use</strong></td>
<td style="text-align: left;">Quick restore points</td>
<td style="text-align: left;">Permanent branching / Golden images</td>
<td style="text-align: left;">Freeing host resources / Pausing work</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="how-overlays-work-technical">How Overlays Work (Technical)<a class="headerlink" href="#how-overlays-work-technical" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Creation:</strong> When you create a "New Overlay", the current disk image is set as the backing file for a newly created QCOW2 file. The VM is then updated to point to this new overlay file instead of the original disk.</li>
<li><strong>Read Operations:</strong> When the VM needs to read data, it first checks the overlay. If the data has been modified, it reads from the overlay. If not, it transparently reads from the backing file.</li>
<li><strong>Write Operations:</strong> All writes are directed to the overlay file. The backing file remains untouched and pristine.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../howto_network/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Understanding Network Configuration">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Understanding Network Configuration
              </div>
            </div>
          </a>
        
        
          
          <a href="../howto_ssh/" class="md-footer__link md-footer__link--next" aria-label="Next: Using an SSH Agent">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Using an SSH Agent
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.footer", "navigation.tracking", "content.code.copy", "navigation.instant", "navigation.top", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>